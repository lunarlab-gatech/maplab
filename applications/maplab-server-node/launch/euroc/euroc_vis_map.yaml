session_name: maplab_vis_map

options:
  default-command: /bin/bash

windows:
- window_name: main
  layout: tiled
  focus: true
  shell_command_before:
  - source /opt/ros/noetic/setup.bash
  - source /home/${USER}/maplab_ws/devel/setup.bash
  panes:
  - shell_command:
    - roscore
  - shell_command:
    - sleep 2
    - rosrun maplab_console maplab_console 
    - load --map_folder /home/dbutterfield3/data/EuRoC/merged_map
    - v
    - export_trajectory_to_csv
  - shell_command:
    - sleep 6
    - rviz -d /home/${USER}/maplab_ws/src/maplab/applications/maplab-server-node/launch/euroc/ros/euroc_vis_map.rviz
  -

- window_name: kill
  layout: tiled
  panes:
  - echo "tmux kill-session -t maplab_vis_map"